(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),i=e(9),o=e.n(i),u=e(4),a=e(3),b=e(2);function s(){var n=Object(a.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 30px;\n"]);return s=function(){return n},n}function j(){var n=Object(a.a)(["\n  color: red;\n"]);return j=function(){return n},n}function d(){var n=Object(a.a)(["\n  font-size: 16px;\n"]);return d=function(){return n},n}function f(){var n=Object(a.a)([""]);return f=function(){return n},n}function l(){var n=Object(a.a)(["\n  color: rgba(10, 20, 30, 0.7);\n  font-size: 14px;\n"]);return l=function(){return n},n}function h(){var n=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  padding-bottom: 4px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n"]);return h=function(){return n},n}function m(){var n=Object(a.a)(["\n  border: 1px solid black;\n  padding: 8px 16px;\n  border-radius: 8px;\n  margin-bottom: 8px;\n"]);return m=function(){return n},n}function p(){var n=Object(a.a)([""]);return p=function(){return n},n}function O(){var n=Object(a.a)([""]);return O=function(){return n},n}function x(){var n=Object(a.a)(["\n  width: 100%;\n  display: block;\n  margin-bottom: 8px;\n"]);return x=function(){return n},n}function g(){var n=Object(a.a)(["\n  margin-bottom: 10px;\n"]);return g=function(){return n},n}function v(){var n=Object(a.a)(["\n  color: salmon;\n  margin-bottom: 10px;\n"]);return v=function(){return n},n}function y(){var n=Object(a.a)(["\n  width: 360px;\n  margin: 0 auto;\n"]);return y=function(){return n},n}var S=b.b.div(y()),w=b.b.h1(v()),k=b.b.form(g()),F=b.b.textarea(x()),_=b.b.button(O()),C=b.b.div(p()),L=b.b.div(m()),z=b.b.div(h()),D=b.b.div(l()),J=b.b.div(f()),P=b.b.div(d()),T=b.b.div(j()),A=b.b.div(s());function B(n){var t=n.author,e=n.time,c=n.children;return Object(r.jsxs)(L,{children:[Object(r.jsxs)(z,{children:[Object(r.jsx)(D,{children:t}),Object(r.jsx)(J,{children:e})]}),Object(r.jsx)(P,{children:c})]})}var E=function(){var n=Object(c.useState)(null),t=Object(u.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(null),a=Object(u.a)(o,2),b=a[0],s=a[1],j=Object(c.useState)(),d=Object(u.a)(j,2),f=d[0],l=d[1],h=Object(c.useState)(),m=Object(u.a)(h,2),p=m[0],O=m[1],x=Object(c.useState)(!1),g=Object(u.a)(x,2),v=g[0],y=g[1],L=function(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){i(n)})).catch((function(n){return s(n.message)}))};return Object(c.useEffect)((function(){L()}),[]),Object(r.jsxs)(S,{children:[v&&Object(r.jsx)(A,{children:"Loading..."}),Object(r.jsx)(w,{children:"\u7559\u8a00\u677f"}),Object(r.jsxs)(k,{onSubmit:function(n){n.preventDefault(),v||(y(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"harry",body:f})}).then((function(n){return n.json()})).then((function(n){y(!1),0===n.ok&&O(n.message),l(""),L()})).catch((function(n){y(!1),O(n.message)})))},children:[Object(r.jsx)(F,{rows:10,value:f,onChange:function(n){l(n.target.value)},onFocus:function(){O(null)}}),Object(r.jsx)(_,{children:"\u9001\u51fa\u7559\u8a00"}),p&&Object(r.jsx)(T,{children:p})]}),b&&Object(r.jsxs)(T,{children:["Something went wrong. ",b.toString()]}),e&&0===e.length&&Object(r.jsx)("div",{children:"No message!"}),Object(r.jsx)(C,{children:e&&e.map((function(n){return Object(r.jsx)(B,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})},I=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,21)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),i(n),o(n)}))};o.a.render(Object(r.jsx)(b.a,{theme:{colors:{primary_300:"#ef9898",primary_400:"#ec6b6b",primary_500:"#ea1212"}},children:Object(r.jsx)(E,{})}),document.getElementById("root")),I()}},[[20,1,2]]]);
//# sourceMappingURL=main.00776d37.chunk.js.map